buildscript {

    ext {
        kotlin_version = '1.3.71'
    }
    ext.buildConfig = [
        "minSdk"    : 16,
        "compileSdk": 29,
        "targetSdk" : 29,

        "buildTools": "29.0.3"
    ]

    apply from: "dependencies.gradle"

    repositories {
        google()
        jcenter()
        mavenCentral()
        maven { url "http://dl.bintray.com/infinum/android" }
    }

    dependencies {
        classpath "com.android.tools.build:gradle:${versions.gradle}"
        classpath packages.maven.plugin
        classpath packages.bintray
        classpath packages.kotlin.plugin
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

tasks.withType(JavaCompile) {
    options.compilerArgs += [ "--release", "8" ]
}

allprojects {
    tasks.withType(Javadoc).all {
        enabled = false
    }
//    configurations.all {
//        resolutionStrategy {
//            dependencySubstitution {
//                substitute module(packages.collar.annotations) with project(':annotations')
//                substitute module(packages.collar.core) with project(':core')
//                substitute module(packages.collar.ui) with project(':ui')
//                substitute module(packages.collar.ui_no_op) with project(':ui-no-op')
//                substitute module(packages.collar.processor) with project(':processor')
//                substitute module(packages.collar.generator) with project(':generator')
//                substitute module(packages.collar.plugin) with project(':plugin')
//            }
//        }
//    }
}

subprojects {
    repositories {
        google()
        jcenter()
        mavenCentral()
        maven { url "http://dl.bintray.com/infinum/android" }
    }
}